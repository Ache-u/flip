<!DOCTYPE html>
<html lang="es">
<head>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js');
  }
</script>

  <meta charset="UTF-8" />
  <title>Minos Flipbook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <!-- PWA: manifiesto y meta tags -->
  <link rel="manifest" href="manifest.json" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />

  <!-- CSS de la librería -->
  <link rel="stylesheet" href="libs/page-flip.min.css" />

  <style>
    /* 1) Fullscreen y fondo negro en todo el documento */
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      background: #000 !important;
      overflow: hidden;
    }

    /* 2) Contenedor del flipbook a pantalla completa */
    #flipbook {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: #000 !important;
    }

    /* 3) Forzar fondo negro y quitar sombras en todos los nodos internos */
    #flipbook *, 
    #flipbook canvas,
    #flipbook .stf__parent,
    #flipbook .stf__wrapper,
    #flipbook .stf__block,
    #flipbook .stf__item,
    #flipbook .page-wrapper,
    #flipbook .page-content {
      background: #000 !important;
      box-shadow: none !important;
      border: none !important;
    }

    /* 4) Ocultar posibles sombras internas */
    #flipbook .stf__outerShadow,
    #flipbook .stf__innerShadow,
    #flipbook .stf__hardShadow,
    #flipbook .stf__hardInnerShadow {
      display: none !important;
    }
  </style>

  <!-- Service Worker: cacheo y offline -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .catch(err => console.warn('SW registration falló:', err));
    }
  </script>
</head>

<body>
  <!-- Flipbook container -->
  <div id="flipbook"></div>

  <!-- JS de la librería -->
  <script src="libs/page-flip.browser.min.js"></script>
  <script>
    // Inicializa el flipbook con fondo negro y sin sombras
    const pageFlip = new St.PageFlip(
      document.getElementById("flipbook"), {
        width: 1200,
        height: 800,
        size: "stretch",
        minWidth: 320,   maxWidth: 1600,
        minHeight: 400,  maxHeight: 1200,
        maxShadowOpacity: 0,
        show
